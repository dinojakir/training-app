<div class="add-container">
  <div *ngIf="loading" class="load-container">
    <mat-spinner [diameter]="30"></mat-spinner>
  </div>
  <form
    #f="ngForm"
    *ngIf="!loading"
    [formGroup]="trainingForm"
    (ngSubmit)="onSubmit($event, _this, getUuid())"
  >
    <div>
      <div class="add-row">
        <div class="margin-column">
          <mat-form-field appearance="fill">
            <mat-label>Naziv</mat-label>
            <input
              type="email"
              matInput
              [formControl]="nameFormControl"
              [errorStateMatcher]="errorStateMatcher"
              (input)="onNameChanged($event)"
            />
            <mat-error *ngIf="nameFormControl.hasError('required')">
              Naziv je obvezan
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field appearance="fill" class="link-input">
            <mat-label>Youtube link</mat-label>
            <textarea
              matInput
              placeholder="..."
              [(ngModel)]="training.link"
              [ngModelOptions]="{ standalone: true }"
            >
            </textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field appearance="fill" class="text-input">
            <mat-label>Komentar</mat-label>
            <textarea
              matInput
              placeholder="..."
              [(ngModel)]="training.comment"
              [ngModelOptions]="{ standalone: true }"
            >
            </textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button
            class="save-btn"
            [disabled]="loading"
            mat-raised-button
            color="primary"
            type="submit"
          >
            Spremi
          </button>
        </div>
      </div>
    </div>

    <ng-container *ngIf="saving">
      <div class="load-container">
        <mat-spinner [diameter]="30"></mat-spinner>
      </div>
    </ng-container>
  </form>
</div>
